<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Labyrinth: include/game.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Labyrinth
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">game.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the main gameplay, including menu navigation, labyrinth creation/loading, and game interactions such as player movement, scoring, and monster handling.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="labyrinth_8h_source.html">labyrinth.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for game.h:</div>
<div class="dyncontent">
<div class="center"><img src="game_8h__incl.png" border="0" usemap="#ainclude_2game_8h" alt=""/></div>
<map name="ainclude_2game_8h" id="ainclude_2game_8h">
<area shape="rect" title="Handles the main gameplay, including menu navigation, labyrinth creation/loading, and game interactio..." alt="" coords="5,5,128,32"/>
<area shape="rect" href="labyrinth_8h.html" title="Functions to interact with and manipulate the labyrinth grid." alt="" coords="21,80,113,107"/>
<area shape="rect" href="game__struct_8h_source.html" title=" " alt="" coords="9,229,124,256"/>
<area shape="rect" href="monster_8h.html" title="Functions for creating, moving, and managing monsters in the labyrinth." alt="" coords="65,155,151,181"/>
</map>
</div>
</div>
<p><a href="game_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a11faa28c010d5b58a3c7a546c26973be"><td class="memItemLeft" align="right" valign="top"><a id="a11faa28c010d5b58a3c7a546c26973be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a11faa28c010d5b58a3c7a546c26973be">DEFAULT_SCORE</a>&#160;&#160;&#160;1000</td></tr>
<tr class="memdesc:a11faa28c010d5b58a3c7a546c26973be"><td class="mdescLeft">&#160;</td><td class="mdescRight">The initial score for a player at the start of the game. <br /></td></tr>
<tr class="separator:a11faa28c010d5b58a3c7a546c26973be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a9822fa134450197dd454b1478a193"><td class="memItemLeft" align="right" valign="top"><a id="a96a9822fa134450197dd454b1478a193"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a96a9822fa134450197dd454b1478a193">BONUS</a>&#160;&#160;&#160;50</td></tr>
<tr class="memdesc:a96a9822fa134450197dd454b1478a193"><td class="mdescLeft">&#160;</td><td class="mdescRight">The score increment for collecting a bonus cell. <br /></td></tr>
<tr class="separator:a96a9822fa134450197dd454b1478a193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c5d1ba3cbc9accd91777476a853c1e1"><td class="memItemLeft" align="right" valign="top"><a id="a2c5d1ba3cbc9accd91777476a853c1e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a2c5d1ba3cbc9accd91777476a853c1e1">MALUS</a>&#160;&#160;&#160;-50</td></tr>
<tr class="memdesc:a2c5d1ba3cbc9accd91777476a853c1e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The score decrement for encountering a trap cell. <br /></td></tr>
<tr class="separator:a2c5d1ba3cbc9accd91777476a853c1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9449bb1679005eaaa12d1acebcfa025d"><td class="memItemLeft" align="right" valign="top"><a id="a9449bb1679005eaaa12d1acebcfa025d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a9449bb1679005eaaa12d1acebcfa025d">MOVING_COST</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:a9449bb1679005eaaa12d1acebcfa025d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The score penalty for each movement. <br /></td></tr>
<tr class="separator:a9449bb1679005eaaa12d1acebcfa025d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2fc3593b03b2993ef34f3900f6be985e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a2fc3593b03b2993ef34f3900f6be985e">Movement</a> { <br />
&#160;&#160;<b>UP</b> = 'z'
, <b>DOWN</b> = 's'
, <b>LEFT</b> = 'q'
, <b>RIGHT</b> = 'd'
, <br />
&#160;&#160;<b>UP_U</b> = 'Z'
, <b>DOWN_U</b> = 'S'
, <b>LEFT_U</b> = 'Q'
, <b>RIGHT_U</b> = 'D'
, <br />
&#160;&#160;<b>ESCAPE</b> = 27
<br />
 }</td></tr>
<tr class="memdesc:a2fc3593b03b2993ef34f3900f6be985e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the player's possible movement directions and controls.  <a href="game_8h.html#a2fc3593b03b2993ef34f3900f6be985e">More...</a><br /></td></tr>
<tr class="separator:a2fc3593b03b2993ef34f3900f6be985e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff19b51e538aa8314de137e58c3c423"><td class="memItemLeft" align="right" valign="top"><a id="a3ff19b51e538aa8314de137e58c3c423"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a3ff19b51e538aa8314de137e58c3c423">GameOption</a> { <br />
&#160;&#160;<b>MENU</b>
, <b>CREATE</b>
, <b>LOAD</b>
, <b>PLAY</b>
, <br />
&#160;&#160;<b>LEADERBOARD</b>
, <b>QUIT</b>
<br />
 }</td></tr>
<tr class="memdesc:a3ff19b51e538aa8314de137e58c3c423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the various states or options available in the game menu. <br /></td></tr>
<tr class="separator:a3ff19b51e538aa8314de137e58c3c423"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a15d56120fabddf7f3108daeb5b920a6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a15d56120fabddf7f3108daeb5b920a6b">handle_game</a> ()</td></tr>
<tr class="memdesc:a15d56120fabddf7f3108daeb5b920a6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main game handler for displaying the menu and processing user inputs to create, load, or play a labyrinth.  <a href="game_8h.html#a15d56120fabddf7f3108daeb5b920a6b">More...</a><br /></td></tr>
<tr class="separator:a15d56120fabddf7f3108daeb5b920a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3037570d5a9143a4181218b9d610b4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLabyrinth.html">Labyrinth</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#af3037570d5a9143a4181218b9d610b4a">create_and_save</a> (int size, char name[size])</td></tr>
<tr class="memdesc:af3037570d5a9143a4181218b9d610b4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a labyrinth based on user-specified size and difficulty, then saves it to a file.  <a href="game_8h.html#af3037570d5a9143a4181218b9d610b4a">More...</a><br /></td></tr>
<tr class="separator:af3037570d5a9143a4181218b9d610b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa68dcad280bbd9a17b0541f88dd78c70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#aa68dcad280bbd9a17b0541f88dd78c70">play_labyrinth</a> (<a class="el" href="structLabyrinth.html">Labyrinth</a> loaded_lab, const char *lab_name)</td></tr>
<tr class="memdesc:aa68dcad280bbd9a17b0541f88dd78c70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the gameplay for a loaded labyrinth.  <a href="game_8h.html#aa68dcad280bbd9a17b0541f88dd78c70">More...</a><br /></td></tr>
<tr class="separator:aa68dcad280bbd9a17b0541f88dd78c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f550d11cf583c1407158973bfb1eb45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#a3f550d11cf583c1407158973bfb1eb45">check_collision</a> (<a class="el" href="structLabyrinth.html">Labyrinth</a> *lab, int next_y, int next_x, int *player_row, int *player_column, int *score, int *found_key)</td></tr>
<tr class="memdesc:a3f550d11cf583c1407158973bfb1eb45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks player movement for collisions with labyrinth walls, monsters, and special cells.  <a href="game_8h.html#a3f550d11cf583c1407158973bfb1eb45">More...</a><br /></td></tr>
<tr class="separator:a3f550d11cf583c1407158973bfb1eb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb133807cef811ca7fe51f1b4b02a7f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="game_8h.html#abb133807cef811ca7fe51f1b4b02a7f1">is_a_movement</a> (int value)</td></tr>
<tr class="memdesc:abb133807cef811ca7fe51f1b4b02a7f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies if a given input corresponds to a valid player movement command.  <a href="game_8h.html#abb133807cef811ca7fe51f1b4b02a7f1">More...</a><br /></td></tr>
<tr class="separator:abb133807cef811ca7fe51f1b4b02a7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the main gameplay, including menu navigation, labyrinth creation/loading, and game interactions such as player movement, scoring, and monster handling. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a2fc3593b03b2993ef34f3900f6be985e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fc3593b03b2993ef34f3900f6be985e">&#9670;&nbsp;</a></span>Movement</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="game_8h.html#a2fc3593b03b2993ef34f3900f6be985e">Movement</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents the player's possible movement directions and controls. </p>
<p>The movement keys are mapped to keyboard characters for user input, with support for both lowercase and uppercase keys. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3f550d11cf583c1407158973bfb1eb45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f550d11cf583c1407158973bfb1eb45">&#9670;&nbsp;</a></span>check_collision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_collision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLabyrinth.html">Labyrinth</a> *&#160;</td>
          <td class="paramname"><em>lab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>next_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>next_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>player_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>player_column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>found_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks player movement for collisions with labyrinth walls, monsters, and special cells. </p>
<p>Updates player coordinates if movement is valid and adjusts the score depending on the cells encountered (traps, bonuses, etc). Handles key retrieval to unlock the labyrinth exit. Also verifies if the player has collided with any monsters and applies penalties.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lab</td><td>Pointer to the labyrinth structure. </td></tr>
    <tr><td class="paramname">next_y</td><td>The y-coordinate for the intended player movement. </td></tr>
    <tr><td class="paramname">next_x</td><td>The x-coordinate for the intended player movement. </td></tr>
    <tr><td class="paramname">player_row</td><td>Pointer to the current player's y-coordinate. </td></tr>
    <tr><td class="paramname">player_column</td><td>Pointer to the current player's x-coordinate. </td></tr>
    <tr><td class="paramname">score</td><td>Pointer to the player's current score. </td></tr>
    <tr><td class="paramname">found_key</td><td>Pointer indicating whether the player has found the key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the player has won the game by reaching the exit with the key, 0 otherwise. </dd></dl>

</div>
</div>
<a id="af3037570d5a9143a4181218b9d610b4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3037570d5a9143a4181218b9d610b4a">&#9670;&nbsp;</a></span>create_and_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLabyrinth.html">Labyrinth</a>* create_and_save </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>name</em>[size]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a labyrinth based on user-specified size and difficulty, then saves it to a file. </p>
<p>This function initializes a labyrinth based on player-defined size and difficulty settings, then saves it. A leaderboard file is created for the new labyrinth. Displays the labyrinth in a square format upon creation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The maximum length of the labyrinth name. </td></tr>
    <tr><td class="paramname">name</td><td>A character array to store the name of the labyrinth.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the created labyrinth structure. </dd></dl>

</div>
</div>
<a id="a15d56120fabddf7f3108daeb5b920a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d56120fabddf7f3108daeb5b920a6b">&#9670;&nbsp;</a></span>handle_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_game </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main game handler for displaying the menu and processing user inputs to create, load, or play a labyrinth. </p>
<p>This function displays the main menu and lets the player choose between creating a new labyrinth, loading an existing one, playing a loaded labyrinth, or viewing the leaderboard.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="abb133807cef811ca7fe51f1b4b02a7f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb133807cef811ca7fe51f1b4b02a7f1">&#9670;&nbsp;</a></span>is_a_movement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_a_movement </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies if a given input corresponds to a valid player movement command. </p>
<p>Checks if the input value matches any of the movement keys (up, down, left, right or escape).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The input key value to verify.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the value is a movement command, 0 otherwise. </dd></dl>

</div>
</div>
<a id="aa68dcad280bbd9a17b0541f88dd78c70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa68dcad280bbd9a17b0541f88dd78c70">&#9670;&nbsp;</a></span>play_labyrinth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int play_labyrinth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLabyrinth.html">Labyrinth</a>&#160;</td>
          <td class="paramname"><em>loaded_lab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lab_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the gameplay for a loaded labyrinth. </p>
<p>Initializes the labyrinth gameplay, displaying the labyrinth and allowing the player to move through it while avoiding or interacting with monsters. Manages the game score, winning conditions, and collision events.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loaded_lab</td><td>The labyrinth structure to play. </td></tr>
    <tr><td class="paramname">lab_name</td><td>The name of the loaded labyrinth.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the session completes successfully. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
